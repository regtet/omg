"use strict";(self["webpackChunklike"]=self["webpackChunklike"]||[]).push([[112],{2348:function(e,t,a){a.d(t,{Z:function(){return d}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/stimulate"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v(e._s(e.label1))]),a("el-breadcrumb-item",[e._v(e._s(e.label2))])],1)],1)},s=[],n={props:["label1","label2"],data(){return{}},methods:{},components:{},computed:{},watch:{},created(){}},i=n,r=a(1001),l=(0,r.Z)(i,o,s,!1,null,"cda8670e",null),d=l.exports},2857:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("MBX",{attrs:{label1:"商品管理",label2:"添加商品"}}),a("el-card",[a("el-alert",{attrs:{closable:!1,center:"",title:"添加商品信息",type:"info","show-icon":""}}),a("el-steps",{staticStyle:{padding:"20px 250px 20px 50px","font-size":"16px"},attrs:{"align-center":"",active:e.active,"finish-status":"success"}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),[a("el-tabs",{attrs:{"tab-position":"left","before-leave":e.tabChange},on:{"tab-click":e.ClickChange}},[a("el-tab-pane",{attrs:{label:"基本信息"}},[a("el-form",{ref:"add",staticClass:"demo-add",attrs:{model:e.add,rules:e.rules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:e.add.goods_name,callback:function(t){e.$set(e.add,"goods_name",t)},expression:"add.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[a("el-input",{attrs:{type:"number"},model:{value:e.add.goods_price,callback:function(t){e.$set(e.add,"goods_price",t)},expression:"add.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[a("el-input",{attrs:{type:"number"},model:{value:e.add.goods_weight,callback:function(t){e.$set(e.add,"goods_weight",t)},expression:"add.goods_weight"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[a("el-input",{attrs:{type:"number"},model:{value:e.add.goods_number,callback:function(t){e.$set(e.add,"goods_number",t)},expression:"add.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{options:e.options,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children"}},on:{change:e.handleChange},model:{value:e.add.value,callback:function(t){e.$set(e.add,"value",t)},expression:"add.value"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"商品参数"}},e._l(e.CanShu,(function(t,o){return a("div",{key:o},[a("el-checkbox-group",{ref:"group",refInFor:!0,model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(""==t.attr_vals?[]:t.attr_vals.split(","),(function(t,o){return a("el-checkbox",{key:o,attrs:{label:t,border:""},on:{change:function(a){return e.delChange(t)}}})})),1)],1)})),0),a("el-tab-pane",{attrs:{label:"商品属性"}},e._l(e.ShuXing,(function(t,o){return a("div",{key:o,staticStyle:{padding:"10px"}},[a("li",[e._v(e._s(t.attr_name))]),a("el-input",{staticClass:"mt",attrs:{disabled:""},model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),0),a("el-tab-pane",{attrs:{label:"商品图片"}},[a("el-upload",{ref:"upload",attrs:{action:"http://www.ysqorz.top:8888/api/private/v1/upload","list-type":"picture-card","auto-upload":!0,headers:{Authorization:e.token},"on-success":e.successPics},scopedSlots:e._u([{key:"file",fn:function(t){var o=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:o.url,alt:""}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(o)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleDownload(o)}}},[a("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(o)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),a("el-tab-pane",{attrs:{label:"商品内容"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),a("el-button",{staticClass:"mt",attrs:{type:"primary"},on:{click:e.AddDate}},[e._v("添加商品")])],1)],1)]],2)],1)},s=[],n=a(2767),i=(a(1629),a(2348)),r={data(){return{checkList:[],content:null,editorOption:{},active:0,ruleForm:{name:""},options:[],rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品名称",trigger:"blur"},{pattern:/^[0-9]*$/,message:"只能输入数字",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品名称",trigger:"blur"},{pattern:/^[0-9]*$/,message:"只能输入数字",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品名称",trigger:"blur"},{pattern:/^[0-9]*$/,message:"只能输入数字",trigger:"blur"}]},add:{goods_name:"",goods_cat:"",goods_price:"",goods_number:"",goods_weight:"",goods_introduce:"",pics:[],attrs:[],value:[]},CanShu:[],ShuXing:[],checked1:"",dialogImageUrl:"",dialogVisible:!1,disabled:!1,file:[],token:sessionStorage.getItem("touken")}},methods:{onEditorBlur(){},onEditorFocus(){},onEditorChange(){},handleRemove(e){console.log(e)},handlePictureCardPreview(e){console.log(e),this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload(e){console.log(e)},change(e){console.log(e)},tabChange(e,t){if(this.add.value.length<3&&void 0!==t)return this.$message({message:"警告哦，请先选择三级分类",type:"warning"}),!1;this.active=1*e,1==e?(0,n.Wd)({sel:"many",id:this.add.value[this.add.value.length-1]}).then((e=>{this.CanShu=e})):2==e&&(0,n.Wd)({sel:"only",id:this.add.value[this.add.value.length-1]}).then((e=>{this.ShuXing=e}))},ClickChange(e){console.log(e)},async send(){const e=await(0,n.m1)();this.options=e},handleChange(){console.log(this.add.value)},async AddDate(){console.log(this.checkList,this.CanShu),console.log(this.$refs.upload.uploadFiles);const e={goods_cat:this.add.value.join(","),goods_introduce:this.content,goods_name:this.add.goods_name,goods_number:this.add.goods_number,goods_price:this.add.goods_price,goods_weight:this.add.goods_weight,pics:this.add.pics};let t=await(0,n.cD)(e);console.log(t),this.content="",this.add.goods_name="",this.add.goods_number="",this.add.goods_price="",this.add.goods_weight="",this.send(),this.$router.push("/goods")},delChange(e){console.log(e)},successPics(e){console.log(e),this.add.pics.push(e.data.tmp_path)}},components:{MBX:i.Z},computed:{},watch:{},created(){this.send()}},l=r,d=a(1001),u=(0,d.Z)(l,o,s,!1,null,"75678cd4",null),c=u.exports},2767:function(e,t,a){a.d(t,{$K:function(){return i},Ce:function(){return s},NL:function(){return r},UY:function(){return u},V6:function(){return g},Wd:function(){return d},Yp:function(){return m},cD:function(){return p},g_:function(){return l},gg:function(){return c},m1:function(){return n},ol:function(){return b},yr:function(){return h}});var o=a(1899);function s(e){return(0,o.Z)({url:"goods",method:"GET",params:e})}function n(e){return(0,o.Z)({url:"categories",method:"GET",params:e})}function i(e){return(0,o.Z)({url:"categories",method:"POST",data:e})}function r(e){return(0,o.Z)({url:"categories/"+e.id,method:"PUT",data:e})}function l(e){return(0,o.Z)({url:"categories/"+e,method:"DELETE"})}function d(e){return(0,o.Z)({url:"categories/"+e.id+"/attributes",method:"GET",params:e})}function u(e){return(0,o.Z)({url:"categories/"+e.id+"/attributes",method:"POST",data:e})}function c(e){return(0,o.Z)({url:"categories/"+e.cid+"/attributes/"+e.id,method:"PUT",data:e})}function g(e){return console.log(e),(0,o.Z)({url:"categories/"+e.cid+"/attributes/"+e.id,method:"DELETE"})}function p(e){return(0,o.Z)({url:"goods/",method:"POST",data:e})}function h(e){return(0,o.Z)({url:"goods/"+1*e.goods_id,method:"PUT",data:e})}function m(e){return(0,o.Z)({url:"goods/"+e,method:"DELETE"})}function b(e){return(0,o.Z)({url:"goods/"+e.id,method:"GET"})}}}]);
//# sourceMappingURL=112.fda6259c.js.map