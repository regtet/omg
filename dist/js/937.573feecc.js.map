{"version":3,"file":"js/937.573feecc.js","mappings":"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","sources":["webpack://like/./src/components/MBX.vue?61bd","webpack://like/src/components/MBX.vue","webpack://like/./src/components/MBX.vue?d35a","webpack://like/./src/components/MBX.vue","webpack://like/./src/views/goods/categories.vue?5d41","webpack://like/src/views/goods/categories.vue","webpack://like/./src/views/goods/categories.vue?10cb","webpack://like/./src/views/goods/categories.vue","webpack://like/./src/api/goods.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/stimulate' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.label1))]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.label2))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/stimulate' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>{{ label1 }}</el-breadcrumb-item>\r\n      <el-breadcrumb-item>{{ label2 }}</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: ['label1', 'label2'],\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {},\r\n  components: {},\r\n  computed: {},\r\n  watch: {},\r\n  created() {}\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MBX.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MBX.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MBX.vue?vue&type=template&id=cda8670e&scoped=true&\"\nimport script from \"./MBX.vue?vue&type=script&lang=js&\"\nexport * from \"./MBX.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cda8670e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"categories\"},[_c('MBX',{attrs:{\"label1\":\"商品管理\",\"label2\":\"商品分类\"}}),_c('el-card',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加分类\")]),_c('el-table',{staticClass:\"mt\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"row-key\":\"cat_id\",\"border\":\"\",\"tree-props\":{ children: 'children', hasChildren: 'hasChildren' },\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.index != undefined ? scope.row.index + 1 : '')+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"cat_name\",\"label\":\"分类名称\"}}),_c('el-table-column',{attrs:{\"label\":\"是否有效\"}},[[_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"#48d80e\"}})]],2),_c('el-table-column',{attrs:{\"prop\":\"cat_level\",\"label\":\"排序\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"effect\":\"dark\",\"size\":\"mini\",\"type\":scope.row.cat_level == 0\n                ? ''\n                : scope.row.cat_level == 1\n                ? 'success'\n                : 'warning'}},[_vm._v(\" \"+_vm._s(scope.row.cat_level == 0 ? '一级' : scope.row.cat_level == '1' ? '二级' : '三级')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.updates(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.del(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{staticClass:\"mt\",attrs:{\"current-page\":_vm.GoodsData.pagenum,\"page-sizes\":[5, 10, 20],\"page-size\":_vm.GoodsData.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.GoodsData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":_vm.title ? '添加分类' : '编辑分类',\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.cat_name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"cat_name\", $$v)},expression:\"ruleForm.cat_name\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.title),expression:\"title\"}],attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.options,\"props\":{\n              checkStrictly: true,\n              label: 'cat_name',\n              value: 'cat_id',\n              children: 'children',\n              emitPath: true\n            },\"clearable\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.out}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.ok}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"categories\">\r\n    <MBX label1=\"商品管理\" label2=\"商品分类\"></MBX>\r\n    <el-card>\r\n      <el-button type=\"primary\" @click=\"add\">添加分类</el-button>\r\n      <el-table\r\n        class=\"mt\"\r\n        :data=\"tableData\"\r\n        row-key=\"cat_id\"\r\n        border\r\n        :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\r\n        stripe\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column type=\"index\" label=\"#\" width=\"50\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.index != undefined ? scope.row.index + 1 : '' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"cat_name\" label=\"分类名称\"> </el-table-column>\r\n        <el-table-column label=\"是否有效\">\r\n          <template>\r\n            <i style=\"color: #48d80e\" class=\"el-icon-success\"> </i>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"cat_level\" label=\"排序\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              effect=\"dark\"\r\n              size=\"mini\"\r\n              :type=\"\r\n                scope.row.cat_level == 0\r\n                  ? ''\r\n                  : scope.row.cat_level == 1\r\n                  ? 'success'\r\n                  : 'warning'\r\n              \"\r\n            >\r\n              {{\r\n                scope.row.cat_level == 0\r\n                  ? '一级'\r\n                  : scope.row.cat_level == '1'\r\n                  ? '二级'\r\n                  : '三级'\r\n              }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"updates(scope.row)\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"del(scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        class=\"mt\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"GoodsData.pagenum\"\r\n        :page-sizes=\"[5, 10, 20]\"\r\n        :page-size=\"GoodsData.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"GoodsData.total\"\r\n      >\r\n      </el-pagination>\r\n      <!-- 模态框 -->\r\n      <el-dialog\r\n        :title=\"title ? '添加分类' : '编辑分类'\"\r\n        :visible.sync=\"dialogVisible\"\r\n        :before-close=\"handleClose\"\r\n      >\r\n        <el-form\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          label-width=\"100px\"\r\n          class=\"demo-ruleForm\"\r\n        >\r\n          <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n            <el-input v-model=\"ruleForm.cat_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item v-show=\"title\" label=\"父级分类\">\r\n            <el-cascader\r\n              v-model=\"value\"\r\n              :options=\"options\"\r\n              :props=\"{\r\n                checkStrictly: true,\r\n                label: 'cat_name',\r\n                value: 'cat_id',\r\n                children: 'children',\r\n                emitPath: true\r\n              }\"\r\n              clearable\r\n            ></el-cascader>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"out\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"ok\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MBX from '@/components/MBX.vue'\r\nimport {\r\n  GetCategories,\r\n  AddCategories,\r\n  SetCategories,\r\n  DelCategories\r\n} from '../../api/goods'\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      query: '',\r\n      title: true,\r\n      //表单\r\n      ruleForm: {\r\n        cat_name: ''\r\n      },\r\n      rules: {\r\n        cat_name: [\r\n          { required: true, message: '请输入分类名称', trigger: 'blur' },\r\n          { min: 1, max: 16, message: '', trigger: 'blur' }\r\n        ]\r\n      },\r\n      options: [],\r\n      //   表格\r\n      value: [],\r\n      tableData: [],\r\n      GoodsData: {\r\n        pagenum: 1, //当前页码\r\n        pagesize: 5, //每页显示个数\r\n        total: 10\r\n      },\r\n      id: 0\r\n    }\r\n  },\r\n  methods: {\r\n    //渲染页面\r\n    async send() {\r\n      const data = await GetCategories(this.GoodsData)\r\n      this.GoodsData.total = data.total\r\n      this.GoodsData.pagenum = data.pagenum + 1\r\n      this.GoodsData.pagesize = data.pagesize\r\n      data.result.forEach((item, index) => {\r\n        item.index = index\r\n      })\r\n      this.tableData = data.result\r\n      this.options = data.result\r\n    },\r\n    //添加\r\n    async add() {\r\n      this.title = true\r\n      this.dialogVisible = true\r\n      const data = await GetCategories()\r\n      console.log(data)\r\n      this.options = data\r\n    },\r\n    out() {\r\n      //点击取消\r\n      this.$refs.ruleForm.resetFields()\r\n      this.value = []\r\n      this.dialogVisible = false\r\n    },\r\n    ok() {\r\n      //点击确定\r\n      this.$refs.ruleForm.validate(async (valid) => {\r\n        if (valid) {\r\n          if (this.title) {\r\n            let cat_pid =\r\n              this.value.length == 0 ? 0 : this.value[this.value.length - 1]\r\n            console.log(cat_pid, 1111)\r\n            const data = AddCategories({\r\n              cat_pid,\r\n              cat_name: this.ruleForm.cat_name,\r\n              cat_level: this.value.length\r\n            })\r\n            this.dialogVisible = false\r\n            this.$refs.ruleForm.resetFields()\r\n            this.value = []\r\n            this.send()\r\n          } else {\r\n            const data = await SetCategories({\r\n              id: this.id,\r\n              cat_name: this.ruleForm.cat_name\r\n            })\r\n            this.dialogVisible = false\r\n            this.$refs.ruleForm.resetFields()\r\n            this.send()\r\n          }\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    //编辑\r\n    updates(ele) {\r\n      console.log(ele)\r\n      this.id = ele.cat_id\r\n      this.title = false\r\n      this.dialogVisible = true\r\n      this.ruleForm.cat_name = ele.cat_name\r\n    },\r\n    //删除\r\n    del(ele) {\r\n      this.id = ele.cat_id\r\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(async () => {\r\n          const data = await DelCategories(ele.cat_id)\r\n          this.send()\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n    },\r\n    handleSizeChange(val) {\r\n      this.GoodsData.pagesize = val\r\n      this.send()\r\n      console.log(`每页 ${val} 条`)\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`)\r\n      this.GoodsData.pagenum = val\r\n      this.send()\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n        .then((_) => {\r\n          done()\r\n        })\r\n        .catch((_) => {})\r\n    }\r\n  },\r\n  components: { MBX },\r\n  computed: {},\r\n  watch: {},\r\n  created() {\r\n    this.send()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.categories {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: calc(100% - 30px);\r\n  ::v-deep .el-cascader-panel div:nth-child(3) {\r\n    display: none !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./categories.vue?vue&type=template&id=623fd37d&scoped=true&\"\nimport script from \"./categories.vue?vue&type=script&lang=js&\"\nexport * from \"./categories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./categories.vue?vue&type=style&index=0&id=623fd37d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"623fd37d\",\n  null\n  \n)\n\nexport default component.exports","import api from \"./request\";\r\nexport function GetGoods(params) {\r\n  // 登录\r\n  return api({\r\n    url: 'goods',\r\n    method: 'GET',\r\n    params\r\n  })\r\n}\r\nexport function GetCategories(params) {\r\n  // 获取\r\n  return api({\r\n    url: 'categories',\r\n    method: 'GET',\r\n    params\r\n  })\r\n}\r\nexport function AddCategories(data) {\r\n  // 添加分类\r\n  return api({\r\n    url: 'categories',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\nexport function SetCategories(data) {\r\n  // 编辑分类\r\n  return api({\r\n    url: 'categories/' + data.id,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport function DelCategories(id) {\r\n  // 删除分类\r\n  return api({\r\n    url: 'categories/' + id,\r\n    method: 'DELETE'\r\n  })\r\n}\r\nexport function StateCategories(params) {\r\n  // 参数列表\r\n  return api({\r\n    url: 'categories/' + params.id + '/attributes',\r\n    method: 'GET',\r\n    params\r\n  })\r\n}\r\nexport function AddStateCategories(data) {\r\n  // 参数列表\r\n  return api({\r\n    url: 'categories/' + data.id + '/attributes',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\nexport function UpdateStateCategories(data) {\r\n  // 编辑属性\r\n  return api({\r\n    url: 'categories/' + data.cid + '/attributes/' + data.id,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport function DelStateCategories(data) {\r\n  // 删除属性\r\n  console.log(data)\r\n  return api({\r\n    url: 'categories/' + data.cid + '/attributes/' + data.id,\r\n    method: 'DELETE'\r\n  })\r\n}\r\nexport function AddsCategories(data) {\r\n  // 添加商品\r\n  return api({\r\n    url: 'goods/',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\nexport function UpSetCategories(data) {\r\n  // 修改商品\r\n  return api({\r\n    url: 'goods/' + data.goods_id * 1,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport function DelState(data) {\r\n  // 删除商品\r\n  return api({\r\n    url: 'goods/' + data,\r\n    method: 'DELETE'\r\n  })\r\n}\r\nexport function Search(data) {\r\n  // 搜索商品\r\n  return api({\r\n    url: 'goods/' + data.id,\r\n    method: 'GET'\r\n  })\r\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","_s","label1","label2","staticRenderFns","props","data","methods","components","computed","watch","created","component","staticClass","on","add","staticStyle","tableData","children","hasChildren","scopedSlots","_u","key","fn","scope","undefined","row","index","cat_level","$event","updates","del","GoodsData","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","title","dialogVisible","handleClose","ref","ruleForm","rules","model","value","callback","$$v","$set","expression","directives","name","rawName","options","checkStrictly","label","emitPath","slot","out","ok","query","cat_name","required","message","trigger","min","max","id","async","result","forEach","item","console","log","$refs","resetFields","validate","valid","cat_pid","length","send","ele","cat_id","$confirm","confirmButtonText","cancelButtonText","type","then","catch","val","done","_","MBX","GetGoods","params","api","url","method","GetCategories","AddCategories","SetCategories","DelCategories","StateCategories","AddStateCategories","UpdateStateCategories","cid","DelStateCategories","AddsCategories","UpSetCategories","goods_id","DelState","Search"],"sourceRoot":""}