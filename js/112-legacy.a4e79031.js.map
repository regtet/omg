{"version":3,"file":"js/112-legacy.a4e79031.js","mappings":"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","sources":["webpack://like/./src/views/goods/add.vue?92b8","webpack://like/src/views/goods/add.vue","webpack://like/./src/views/goods/add.vue?26d9","webpack://like/./src/views/goods/add.vue","webpack://like/./node_modules/core-js/internals/array-method-is-strict.js","webpack://like/./node_modules/core-js/modules/es.array.join.js","webpack://like/./src/api/goods.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add\"},[_c('MBX',{attrs:{\"label1\":\"商品管理\",\"label2\":\"添加商品\"}}),_c('el-card',[_c('el-alert',{attrs:{\"closable\":false,\"center\":\"\",\"title\":\"添加商品信息\",\"type\":\"info\",\"show-icon\":\"\"}}),_c('el-steps',{staticStyle:{\"padding\":\"20px 250px 20px 50px\",\"font-size\":\"16px\"},attrs:{\"align-center\":\"\",\"active\":_vm.active,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"基本信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品属性\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),[_c('el-tabs',{attrs:{\"tab-position\":\"left\",\"before-leave\":_vm.tabChange},on:{\"tab-click\":_vm.ClickChange}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\"}},[_c('el-form',{ref:\"add\",staticClass:\"demo-add\",attrs:{\"model\":_vm.add,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.add.goods_name),callback:function ($$v) {_vm.$set(_vm.add, \"goods_name\", $$v)},expression:\"add.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.add.goods_price),callback:function ($$v) {_vm.$set(_vm.add, \"goods_price\", $$v)},expression:\"add.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.add.goods_weight),callback:function ($$v) {_vm.$set(_vm.add, \"goods_weight\", $$v)},expression:\"add.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.add.goods_number),callback:function ($$v) {_vm.$set(_vm.add, \"goods_number\", $$v)},expression:\"add.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.options,\"props\":{\n                  expandTrigger: 'hover',\n                  value: 'cat_id',\n                  label: 'cat_name',\n                  children: 'children'\n                }},on:{\"change\":_vm.handleChange},model:{value:(_vm.add.value),callback:function ($$v) {_vm.$set(_vm.add, \"value\", $$v)},expression:\"add.value\"}})],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品参数\"}},_vm._l((_vm.CanShu),function(item,attr_id){return _c('div',{key:attr_id},[_c('el-checkbox-group',{ref:\"group\",refInFor:true,model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},_vm._l((item.attr_vals == ''\n                  ? []\n                  : item.attr_vals.split(',')),function(ele,i){return _c('el-checkbox',{key:i,attrs:{\"label\":ele,\"border\":\"\"},on:{\"change\":function($event){return _vm.delChange(ele)}}})}),1)],1)}),0),_c('el-tab-pane',{attrs:{\"label\":\"商品属性\"}},_vm._l((_vm.ShuXing),function(item,i){return _c('div',{key:i,staticStyle:{\"padding\":\"10px\"}},[_c('li',[_vm._v(_vm._s(item.attr_name))]),_c('el-input',{staticClass:\"mt\",attrs:{\"disabled\":\"\"},model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),0),_c('el-tab-pane',{attrs:{\"label\":\"商品图片\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"http://www.ysqorz.top:8888/api/private/v1/upload\",\"list-type\":\"picture-card\",\"auto-upload\":true,\"headers\":{ Authorization: _vm.token },\"on-success\":_vm.successPics},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\n                  var file = ref.file;\nreturn _c('div',{},[_c('img',{staticClass:\"el-upload-list__item-thumbnail\",attrs:{\"src\":file.url,\"alt\":\"\"}}),_c('span',{staticClass:\"el-upload-list__item-actions\"},[_c('span',{staticClass:\"el-upload-list__item-preview\",on:{\"click\":function($event){return _vm.handlePictureCardPreview(file)}}},[_c('i',{staticClass:\"el-icon-zoom-in\"})]),(!_vm.disabled)?_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleDownload(file)}}},[_c('i',{staticClass:\"el-icon-download\"})]):_vm._e(),(!_vm.disabled)?_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleRemove(file)}}},[_c('i',{staticClass:\"el-icon-delete\"})]):_vm._e()])])}}])},[_c('i',{staticClass:\"el-icon-plus\",attrs:{\"slot\":\"default\"},slot:\"default\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('el-tab-pane',{attrs:{\"label\":\"商品内容\"}},[_c('quill-editor',{ref:\"myQuillEditor\",staticClass:\"editor\",attrs:{\"options\":_vm.editorOption},on:{\"blur\":function($event){return _vm.onEditorBlur($event)},\"focus\":function($event){return _vm.onEditorFocus($event)},\"change\":function($event){return _vm.onEditorChange($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('el-button',{staticClass:\"mt\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.AddDate}},[_vm._v(\"添加商品\")])],1)],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"add\">\r\n    <MBX label1=\"商品管理\" label2=\"添加商品\"></MBX>\r\n    <el-card>\r\n      <el-alert\r\n        :closable=\"false\"\r\n        center\r\n        title=\"添加商品信息\"\r\n        type=\"info\"\r\n        show-icon\r\n      >\r\n      </el-alert>\r\n      <!-- 步骤条 -->\r\n      <el-steps\r\n        align-center\r\n        style=\"padding: 20px 250px 20px 50px; font-size: 16px\"\r\n        :active=\"active\"\r\n        finish-status=\"success\"\r\n      >\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n\r\n      <!-- tab栏 -->\r\n      <template>\r\n        <el-tabs\r\n          @tab-click=\"ClickChange\"\r\n          tab-position=\"left\"\r\n          :before-leave=\"tabChange\"\r\n        >\r\n          <el-tab-pane label=\"基本信息\">\r\n            <!-- 表单 -->\r\n            <el-form :model=\"add\" :rules=\"rules\" ref=\"add\" class=\"demo-add\">\r\n              <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n                <el-input v-model=\"add.goods_name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n                <el-input type=\"number\" v-model=\"add.goods_price\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n                <el-input type=\"number\" v-model=\"add.goods_weight\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n                <el-input type=\"number\" v-model=\"add.goods_number\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品分类\">\r\n                <el-cascader\r\n                  v-model=\"add.value\"\r\n                  :options=\"options\"\r\n                  :props=\"{\r\n                    expandTrigger: 'hover',\r\n                    value: 'cat_id',\r\n                    label: 'cat_name',\r\n                    children: 'children'\r\n                  }\"\r\n                  @change=\"handleChange\"\r\n                ></el-cascader>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\">\r\n            <div v-for=\"(item, attr_id) in CanShu\" :key=\"attr_id\">\r\n              <el-checkbox-group ref=\"group\" v-model=\"checkList\">\r\n                <el-checkbox\r\n                  @change=\"delChange(ele)\"\r\n                  v-for=\"(ele, i) in item.attr_vals == ''\r\n                    ? []\r\n                    : item.attr_vals.split(',')\"\r\n                  :key=\"i\"\r\n                  :label=\"ele\"\r\n                  border\r\n                ></el-checkbox>\r\n              </el-checkbox-group>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品属性\">\r\n            <div style=\"padding: 10px\" v-for=\"(item, i) in ShuXing\" :key=\"i\">\r\n              <li>{{ item.attr_name }}</li>\r\n              <el-input disabled class=\"mt\" v-model=\"item.attr_vals\"></el-input>\r\n            </div>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\">\r\n            <el-upload\r\n              ref=\"upload\"\r\n              action=\"http://www.ysqorz.top:8888/api/private/v1/upload\"\r\n              list-type=\"picture-card\"\r\n              :auto-upload=\"true\"\r\n              :headers=\"{ Authorization: token }\"\r\n              :on-success=\"successPics\"\r\n            >\r\n              <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n              <div slot=\"file\" slot-scope=\"{ file }\">\r\n                <img\r\n                  class=\"el-upload-list__item-thumbnail\"\r\n                  :src=\"file.url\"\r\n                  alt=\"\"\r\n                />\r\n                <span class=\"el-upload-list__item-actions\">\r\n                  <span\r\n                    class=\"el-upload-list__item-preview\"\r\n                    @click=\"handlePictureCardPreview(file)\"\r\n                  >\r\n                    <i class=\"el-icon-zoom-in\"></i>\r\n                  </span>\r\n                  <span\r\n                    v-if=\"!disabled\"\r\n                    class=\"el-upload-list__item-delete\"\r\n                    @click=\"handleDownload(file)\"\r\n                  >\r\n                    <i class=\"el-icon-download\"></i>\r\n                  </span>\r\n                  <span\r\n                    v-if=\"!disabled\"\r\n                    class=\"el-upload-list__item-delete\"\r\n                    @click=\"handleRemove(file)\"\r\n                  >\r\n                    <i class=\"el-icon-delete\"></i>\r\n                  </span>\r\n                </span>\r\n              </div>\r\n            </el-upload>\r\n            <el-dialog :visible.sync=\"dialogVisible\">\r\n              <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\r\n            </el-dialog>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\">\r\n            <quill-editor\r\n              class=\"editor\"\r\n              v-model=\"content\"\r\n              ref=\"myQuillEditor\"\r\n              :options=\"editorOption\"\r\n              @blur=\"onEditorBlur($event)\"\r\n              @focus=\"onEditorFocus($event)\"\r\n              @change=\"onEditorChange($event)\"\r\n            >\r\n            </quill-editor>\r\n            <el-button class=\"mt\" type=\"primary\" @click=\"AddDate\"\r\n              >添加商品</el-button\r\n            >\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </template>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { GetCategories, StateCategories, AddsCategories } from '../../api/goods'\r\nimport { quillEditor } from 'vue-quill-editor'\r\nimport MBX from '@/components/MBX.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      checkList: [],\r\n      content: null,\r\n      editorOption: {}, //富文本\r\n      active: 0,\r\n      ruleForm: {\r\n        name: ''\r\n      },\r\n      options: [], //级联选择器数据\r\n      rules: {\r\n        goods_name: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n          { min: 2, max: 6, message: '长度在 2 到 6 个字符', trigger: 'blur' }\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n          { pattern: /^[0-9]*$/, message: '只能输入数字', trigger: 'blur' }\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n          { pattern: /^[0-9]*$/, message: '只能输入数字', trigger: 'blur' }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n          { pattern: /^[0-9]*$/, message: '只能输入数字', trigger: 'blur' }\r\n        ]\r\n      },\r\n      add: {\r\n        goods_name: '',\r\n        goods_cat: '', //字符串的分类列表\r\n        goods_price: '',\r\n        goods_number: '', //数量\r\n        goods_weight: '', //重量\r\n        goods_introduce: '', //介绍\r\n        pics: [], //图片\r\n        attrs: [], //商品参数\r\n        value: [] //选中的数据\r\n      },\r\n      CanShu: [], //商品参数\r\n      ShuXing: [], //商品参数\r\n      checked1: '',\r\n      //图片的\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      file: [],\r\n      token: sessionStorage.getItem('touken')\r\n    }\r\n  },\r\n  methods: {\r\n    //富文本\r\n    onEditorBlur() {},\r\n    onEditorFocus() {\r\n      //获得焦点事件\r\n    },\r\n    onEditorChange() {\r\n      //内容改变事件\r\n    },\r\n    //富文本\r\n\r\n    handleRemove(file) {\r\n      console.log(file)\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      console.log(file)\r\n      this.dialogImageUrl = file.url\r\n      this.dialogVisible = true\r\n    },\r\n    handleDownload(file) {\r\n      console.log(file)\r\n    },\r\n    change(e) {\r\n      console.log(e)\r\n    },\r\n    tabChange(i, ii) {\r\n      if (this.add.value.length < 3 && ii !== undefined) {\r\n        this.$message({\r\n          message: '警告哦，请先选择三级分类',\r\n          type: 'warning'\r\n        })\r\n        return false\r\n      }\r\n      this.active = i * 1\r\n      if (i == 1) {\r\n        StateCategories({\r\n          sel: 'many',\r\n          id: this.add.value[this.add.value.length - 1]\r\n        }).then((res) => {\r\n          this.CanShu = res\r\n        })\r\n      } else if (i == 2) {\r\n        StateCategories({\r\n          sel: 'only',\r\n          id: this.add.value[this.add.value.length - 1]\r\n        }).then((res) => {\r\n          this.ShuXing = res\r\n        })\r\n      }\r\n    },\r\n    ClickChange(e) {\r\n      console.log(e)\r\n    },\r\n    async send() {\r\n      const data = await GetCategories()\r\n      this.options = data\r\n    },\r\n    //选择分类的时候\r\n    handleChange() {\r\n      console.log(this.add.value)\r\n    },\r\n    async AddDate() {\r\n      console.log(this.checkList, this.CanShu)\r\n      console.log(this.$refs.upload.uploadFiles)\r\n      const data = {\r\n        goods_cat: this.add.value.join(','),\r\n        goods_introduce: this.content,\r\n        goods_name: this.add.goods_name,\r\n        goods_number: this.add.goods_number,\r\n        goods_price: this.add.goods_price,\r\n        goods_weight: this.add.goods_weight,\r\n        pics: this.add.pics //加图片就是商品名称不正确\r\n      }\r\n      let ele = await AddsCategories(data)\r\n      console.log(ele)\r\n      this.content = ''\r\n      this.add.goods_name = ''\r\n      this.add.goods_number = ''\r\n      this.add.goods_price = ''\r\n      this.add.goods_weight = ''\r\n      this.send()\r\n      this.$router.push('/goods')\r\n    },\r\n    //复选框改变时\r\n    delChange(e) {\r\n      console.log(e)\r\n    },\r\n    successPics(data) {\r\n      console.log(data)\r\n      this.add.pics.push(data.data.tmp_path)\r\n    }\r\n  },\r\n\r\n  components: { MBX },\r\n  computed: {},\r\n  watch: {},\r\n  created() {\r\n    this.send()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.add {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 100%;\r\n  ::v-deep .el-checkbox {\r\n    margin: 10px 0;\r\n    p {\r\n      height: 200px;\r\n    }\r\n  }\r\n  ::v-deep .el-step__title {\r\n    font-size: 14px !important;\r\n  }\r\n  ::v-deep .el-tab-pane p {\r\n    height: 200px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=75678cd4&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=75678cd4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75678cd4\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import api from \"./request\";\r\nexport function GetGoods(params) {\r\n  // 登录\r\n  return api({\r\n    url: 'goods',\r\n    method: 'GET',\r\n    params\r\n  })\r\n}\r\nexport function GetCategories(params) {\r\n  // 获取\r\n  return api({\r\n    url: 'categories',\r\n    method: 'GET',\r\n    params\r\n  })\r\n}\r\nexport function AddCategories(data) {\r\n  // 添加分类\r\n  return api({\r\n    url: 'categories',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\nexport function SetCategories(data) {\r\n  // 编辑分类\r\n  return api({\r\n    url: 'categories/' + data.id,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport function DelCategories(id) {\r\n  // 删除分类\r\n  return api({\r\n    url: 'categories/' + id,\r\n    method: 'DELETE'\r\n  })\r\n}\r\nexport function StateCategories(params) {\r\n  // 参数列表\r\n  return api({\r\n    url: 'categories/' + params.id + '/attributes',\r\n    method: 'GET',\r\n    params\r\n  })\r\n}\r\nexport function AddStateCategories(data) {\r\n  // 参数列表\r\n  return api({\r\n    url: 'categories/' + data.id + '/attributes',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\nexport function UpdateStateCategories(data) {\r\n  // 编辑属性\r\n  return api({\r\n    url: 'categories/' + data.cid + '/attributes/' + data.id,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport function DelStateCategories(data) {\r\n  // 删除属性\r\n  console.log(data)\r\n  return api({\r\n    url: 'categories/' + data.cid + '/attributes/' + data.id,\r\n    method: 'DELETE'\r\n  })\r\n}\r\nexport function AddsCategories(data) {\r\n  // 添加商品\r\n  return api({\r\n    url: 'goods/',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\nexport function UpSetCategories(data) {\r\n  // 修改商品\r\n  return api({\r\n    url: 'goods/' + data.goods_id * 1,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport function DelState(data) {\r\n  // 删除商品\r\n  return api({\r\n    url: 'goods/' + data,\r\n    method: 'DELETE'\r\n  })\r\n}\r\nexport function Search(data) {\r\n  // 搜索商品\r\n  return api({\r\n    url: 'goods/' + data.id,\r\n    method: 'GET'\r\n  })\r\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","active","tabChange","on","ClickChange","ref","add","rules","model","value","callback","$$v","$set","expression","options","expandTrigger","label","children","handleChange","_l","item","attr_id","key","refInFor","checkList","attr_vals","split","ele","i","$event","delChange","_v","_s","attr_name","Authorization","token","successPics","scopedSlots","_u","fn","file","url","handlePictureCardPreview","disabled","_e","handleDownload","handleRemove","slot","dialogVisible","dialogImageUrl","editorOption","onEditorBlur","onEditorFocus","onEditorChange","content","AddDate","staticRenderFns","data","ruleForm","name","goods_name","required","message","trigger","min","max","goods_price","pattern","goods_weight","goods_number","goods_cat","goods_introduce","pics","CanShu","ShuXing","checked1","sessionStorage","getItem","methods","console","log","change","e","ii","length","undefined","$message","type","StateCategories","sel","id","then","GetCategories","AddsCategories","push","tmp_path","components","MBX","computed","watch","created","send","component","fails","module","exports","METHOD_NAME","argument","method","call","$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","GetGoods","params","api","AddCategories","SetCategories","DelCategories","AddStateCategories","UpdateStateCategories","cid","DelStateCategories","UpSetCategories","goods_id","DelState","Search"],"sourceRoot":""}